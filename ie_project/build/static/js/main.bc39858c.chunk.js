(this.webpackJsonpie_project=this.webpackJsonpie_project||[]).push([[0],{57:function(e,t,a){e.exports=a(89)},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},85:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),l=a.n(s),i=(a(62),a(63),a(5)),o=a(21),c=a(22),u=a(14),m=a(27),d=a(25),h=a(92),p=a(16),E=(a(64),a(17)),f=a.n(E),v=a(47),g=a.n(v),b=a(7),y=Object(b.a)(),w=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",loggIn:!1,error:""},document.title="YIC Schedule",n.validateForm=n.validateForm.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>5}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),f.a.post("https://ie2020.kisim.eu.org/api/auth",{},{auth:{username:this.state.email,password:this.state.password}}).then((function(e){if(201!==e.status)throw e;t.setState({loggIn:!0});var a=e.data.user;g.a.set("user",{id:a.id,token:e.data.token,email:t.state.email}),y.push("./monday")})).catch((function(e){401===e.response.status?t.setState({error:"Wrong username or password"}):400===e.response.status&&t.setState({error:"Enter valid email address"})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"LOGIN PAGE"),r.a.createElement(p.a,{onSubmit:this.handleSubmit},r.a.createElement(p.a.Group,{controlId:"email"},r.a.createElement(p.a.Label,null,"Email  "),r.a.createElement(p.a.Control,{autoFocus:!0,type:"text",value:this.state.email,placeholder:"Enter email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(p.a.Group,{controlId:"password"},r.a.createElement(p.a.Label,null,"Password  "),r.a.createElement(p.a.Control,{value:this.state.password,placeholder:"Enter password",onChange:function(t){return e.setState({password:t.target.value})},type:"password"}),r.a.createElement("div",{className:"error"},this.state.error)),r.a.createElement(h.a,{disabled:!this.validateForm(),type:"submit"}," Login ")))}}]),a}(r.a.Component),k=a(56),S=(a(85),a(53)),C=a(12),j=a(55);function O(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}var L=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={presentations:[],sessions:[],schedules:[],searchString:"",filtered:[],isLoading:!1,data:[]},n.mapSchedules=n.mapSchedules.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"mapSchedules",value:function(e){var t,a,n,r,s=e.sessions,l=e.presentation,i=e.rooms;for(t in l){for(a in r=l[t].session,s)a===r&&(l[t].sessionName=s[a].name,l[t].localization=s[a].localization);for(n in i)n===(r=l[t].localization)&&(l[t].roomName=i[n].name,l[t].lat=i[n].lat,l[t].lng=i[n].lng);switch((r=l[t].date.split("T"))[0]){case"2019-09-02":l[t].day="MONDAY";break;case"2019-09-03":l[t].day="TUESDAY";break;case"2019-09-04":l[t].day="WEDNESDAY";break;case"2019-09-05":l[t].day="THURSDAY";break;case"2019-09-06":l[t].day="FRIDAY"}}return l}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({searchString:t,filtered:this.state.data.filter((function(e){return Object.values(e).join(" ").toLowerCase().match(t)}))})}},{key:"componentDidMount",value:function(){var e=this;document.title="YIC Schedule";var t=f.a.get("https://ie2020.kisim.eu.org/api/presentations"),a=f.a.get("https://ie2020.kisim.eu.org/api/schedules"),n=f.a.get("https://ie2020.kisim.eu.org/api/rooms"),r=f.a.get("https://ie2020.kisim.eu.org/api/sessions");Promise.all([a,n,r,t]).then((function(t){var a=Object(k.a)(t,4),n=a[0],r=a[1],s=a[2],l=a[3],i={schedules:n.data,sessions:s.data,rooms:r.data,presentation:l.data},o=Object.keys(i.sessions);i=e.mapSchedules(i),e.setState({presentations:i}),e.setState({sessions:o}),e.setState({schedules:n.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.presentations,a=void 0===t?[]:t,n=this.state.schedules,s=void 0===n?[]:n;a.sort(O);var l=Object(b.a)().location.pathname.toString().substring(1).toUpperCase(),i=[];if(void 0!==s[l])for(var o in s[l])i.push(s[l][o].sessions);var c=this.state.searchString.trim().toLowerCase(),u=this.state.presentations;return c.length>0&&(u=u.filter((function(e){var t=e.title.toLowerCase().match(c),a=e.sessionName.toLowerCase().match(c);return null!=t?t:null!=a?a:0}))),u=u.filter((function(e){return e.day.toLowerCase().match(l)})),r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-pills"},r.a.createElement(j.a,{bg:"dark",variant:"light"},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,{href:"/monday"},"Monday"),r.a.createElement(C.a.Link,{href:"/tuesday"},"Tuesday"),r.a.createElement(C.a.Link,{href:"/wednesday"},"Wednesday"),r.a.createElement(C.a.Link,{href:"/thursday"},"Thursday"),r.a.createElement(C.a.Link,{href:"/friday"},"Friday")))),r.a.createElement("input",{className:"inputClass",placeholder:"Search presentations by title or session name",value:this.state.searchString,onChange:this.handleChange}),r.a.createElement("h1",null,"ECCOMAS YIC2019"),u.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("b",{className:"sessions"},t.sessionName),r.a.createElement(S.a,{striped:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"20%"},new Intl.DateTimeFormat("en-PL",{hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC"}).format(new Date(t.date))),r.a.createElement("td",null,r.a.createElement(C.a.Link,{className:"link",href:""!==t.filename?"https://ie2020.kisim.eu.org/api/abstracts/"+t.filename:"",disabled:""===e.href},t.title))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(C.a.Link,{className:"link",href:"https://www.google.pl/maps/place/"+t.lat+","+t.lng},t.roomName)),r.a.createElement("td",null,t.authors.join(", "))))))})))}}]),a}(n.Component),N=function(){return r.a.createElement(i.b,{history:y},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(w,null)),r.a.createElement(i.a,{path:"/monday"},r.a.createElement(L,null)),r.a.createElement(i.a,{path:"/tuesday"},r.a.createElement(L,null)),r.a.createElement(i.a,{path:"/wednesday"},r.a.createElement(L,null)),r.a.createElement(i.a,{path:"/thursday"},r.a.createElement(L,null)),r.a.createElement(i.a,{path:"/friday"},r.a.createElement(L,null))))},D=a(33);var I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D.a,null,r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.bc39858c.chunk.js.map